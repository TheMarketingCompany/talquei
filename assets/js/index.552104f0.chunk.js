(window.webpackJsonp=window.webpackJsonp||[]).push([[1],[,function(t,e,s){},,,function(t,e,s){t.exports=s.p+"assets/images/example/logo.5d94742a.png"},function(t,e,s){t.exports=s(11)},function(t,e,s){"use strict";var i=s(1);s.n(i).a},function(t,e,s){},,,,function(t,e,s){"use strict";s.r(e);var i=s(4),a=s.n(i),o={repository:"https://github.com/luciorubeens/talquei",data:()=>({name:"",occupation:""}),computed:{logo:()=>a.a}},n=(s(6),s(0)),l=Object(n.a)(o,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("main",{staticClass:"app"},[s("a",{staticClass:"github-corner",attrs:{href:t.$options.repository,"aria-label":"View source on GitHub"}},[s("svg",{staticStyle:{fill:"#151513",color:"#fff",position:"absolute",top:"0",border:"0",right:"0"},attrs:{width:"80",height:"80",viewBox:"0 0 250 250","aria-hidden":"true"}},[s("path",{attrs:{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"}}),s("path",{staticClass:"octo-arm",staticStyle:{"transform-origin":"130px 106px"},attrs:{d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2",fill:"currentColor"}}),s("path",{staticClass:"octo-body",attrs:{d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z",fill:"currentColor"}})])]),t._v(" "),s("header",{staticClass:"logo"},[s("img",{attrs:{src:t.logo,alt:"Talquei"}})]),t._v(" "),s("section",{staticClass:"content"},[s("Talquei",{staticClass:"bot"},[s("TalqueiMessage",{attrs:{text:"Hi there! What's your name?"}}),t._v(" "),s("TalqueiMessage",{attrs:{input:{tag:"text",placeholder:"Enter your name"},template:"My name is {text}","is-user":""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),t._v(" "),s("TalqueiMessage",{attrs:{text:"Great to meet you, "+t.name+"! I'm a web form, what do you do?"}}),t._v(" "),s("TalqueiMessage",{attrs:{input:{tag:"select",options:["Design","Developer","Other"]},"is-user":""},model:{value:t.occupation,callback:function(e){t.occupation=e},expression:"occupation"}}),t._v(" "),s("TalqueiMessage",{attrs:{text:"This plugin can help you build webforms looking like a conversation. If you find this useful, please star us on GitHub!"}}),t._v(" "),s("TalqueiMessage",[s("div",{staticClass:"text-center"},[s("a",{attrs:{href:t.$options.repository,alt:"Open Github"}},[t._v("\n            Open Github \u2b50\n          ")])])])],1)],1)])},[],!1,null,null,null);l.options.__file="App.vue";var r=l.exports,u=s(3),c={functional:!0,props:{vnodes:{type:[Array,Object],required:!0}},render:(t,{props:e})=>{const s=e.vnodes;return Array.isArray(s)?s:t(s)}},p=(t,e,s)=>{if(!["text","select"].includes(e.tag))throw new Error("[talquei] Invalid input type");if("select"===e.tag&&!e.options)throw new Error("[talquei] You must pass some items to select");const i=e=>{t.$_next(),t.$emit(s.event,e)};return{name:"InputForm",directives:{focus:{inserted:t=>t.focus()}},render(s){let a;const o=s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"16px",height:"16px",fill:"currentColor"}},[s("path",{attrs:{d:"M277.375 427V167.296l119.702 119.702L427 256 256 85 85 256l29.924 29.922 119.701-118.626V427h42.75z"}})]);if("text"===e.tag){const{tag:l,...r}=e;a=[s("input",{class:["talquei-form__text"],attrs:{type:"text",...r},ref:"text",directives:[{name:"focus"}]}),(n=(()=>this.$refs.text.value),s("button",{class:"talquei-form__submit",attrs:{type:"submit"},on:{click:()=>i(n())}},t.$_submitSlot?t.$_submitSlot:[o]))]}else if("select"===e.tag){const t=Object.keys(e.options);a=[s("div",{class:["talquei-form__select"]},t.map((t,a)=>s("button",{attrs:{type:"button"},class:"talquei-form__select__item",on:{click:()=>i(e.options[t])},directives:[0===a?{name:"focus"}:{}]},e.options[t])))]}var n;return s("form",{class:"talquei-form",on:{submit:t=>{t.preventDefault(),t.stopPropagation()}}},a)}}},d={name:"TalqueiMessage",components:{VNodes:c},inject:{$_next:"next",$_showInput:"showInput",$_avatarSlot:"avatarSlot",$_submitSlot:"submitSlot",$_scrollToTerminal:"scrollToTerminal"},model:{prop:"text",event:"input"},props:{input:{type:Object,required:!1,default:void 0},isUser:{type:Boolean,required:!1,default:!1},text:{type:String,required:!1,default:void 0},template:{type:String,required:!1,default:"{text}"}},data:()=>({isEnabled:!1,isPending:!0}),computed:{hasInput(){return!!this.$slots.default||!!this.input},formattedText:{cache:!1,get(){return this.template.replace("{text}",this.text)}}},watch:{isEnabled(t){t&&(this.renderInput(),this.isUser||this.showText())},text:{handler(t){t&&this.isEnabled&&this.showText()},immediate:!0},isPending(t){t||!this.isEnabled||this.hasInput||setTimeout(()=>this.$_next(),1500)}},methods:{renderInput(){setTimeout(()=>{if(this.$slots.default)this.$_showInput(this.$slots.default);else if(this.input){const t=p(this,this.input,this.$options.model);this.$_showInput(t)}},500)},showText(){this.isUser?this.isPending=!1:setTimeout(()=>this.isPending=!1,500)},onAfterLeave(){setTimeout(()=>this.$_scrollToTerminal(),100)},run(){this.isEnabled=!0}}},h=Object(n.a)(d,function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.isEnabled&&(t.text||t.isUser)?s("div",{staticClass:"talquei-message",class:t.isUser?"talquei-message--user":"talquei-message--app"},[s("div",{staticClass:"talquei-message__avatar"},[t.isUser?t._e():s("div",[t.$_avatarSlot?s("VNodes",{attrs:{vnodes:t.$_avatarSlot}}):s("span",[t._v("\n        \ud83e\udd16\n      ")])],1)]),t._v(" "),s("div",{staticClass:"talquei-message__text"},[s("Transition",{attrs:{name:"talquei--fade",mode:"out-in",duration:t.isUser?50:600},on:{"after-leave":t.onAfterLeave}},[t.isPending?s("span",{key:"pending",staticClass:"talquei--blink talquei-message__text__pending"},[t._v("\n        \u2026\n      ")]):s("span",{key:"text"},[t._v("\n        "+t._s(t.formattedText)+"\n      ")])])],1)]):t._e()},[],!1,null,null,null);h.options.__file="TalqueiMessage.vue";var m=h.exports;const v=(t,e)=>{"function"===typeof t.scroll?t.scroll({top:t.scrollHeight,behavior:e?"smooth":"instant"}):t.scrollTop=t.scrollHeight};var f={name:"Talquei",directives:{"scroll-down":{bind:(t,e)=>{let s=!1;t.addEventListener&&t.addEventListener("scroll",()=>{s=t.scrollTop+t.clientHeight+1<t.scrollHeight}),new MutationObserver(i=>{const a=e.value||{};!1===a.always&&s||1!==i[i.length-1].addedNodes.length||v(t,a.smooth)}).observe(t,{childList:!0,subtree:!0})},inserted:v}},provide(){return{avatarSlot:this.$slots.avatar,submitSlot:this.$slots.submit,next:this.next,showInput:this.showInput,scrollToTerminal:this.scrollToTerminal}},components:{VNodes:c},props:{autoRun:{type:Boolean,required:!1,default:!0}},data:()=>({step:void 0,inputNode:void 0,messages:[]}),computed:{totalSteps(){return this.messages.length}},watch:{step(t){this.inputNode=void 0,this.runMessage(this.messages[t])}},mounted(){this.autoRun&&this.init()},updated(){this.scrollToTerminal()},methods:{scrollToTerminal(){v(this.$refs.terminal)},init(){this.collectMessages(),this.step=0},next(){this.inputNode=void 0,this.collectMessages();const t=this.step+1;t<this.totalSteps?setTimeout(()=>this.step=t,500):this.emitComplete()},emitComplete(){this.$emit("complete")},showInput(t){this.inputNode=t},collectMessages(){this.messages=this.$children.filter(t=>t.$options.name===m.name)},runMessage(t){t&&t.run()}}},g=Object(n.a)(f,function(){var t=this.$createElement,e=this._self._c||t;return e("section",{staticClass:"talquei"},[e("div",{directives:[{name:"scroll-down",rawName:"v-scroll-down"}],ref:"terminal",staticClass:"talquei-terminal"},[this._t("default")],2),this._v(" "),this.inputNode?e("div",{staticClass:"talquei-inputbar"},[e("VNodes",{attrs:{vnodes:this.inputNode}})],1):this._e()])},[],!1,null,null,null);g.options.__file="Talquei.vue";var _=g.exports;s(7);function b(t){t.component(_.name,_),t.component(m.name,m)}"undefined"!==typeof window&&window.Vue&&window.Vue.use(b);var x=b;u.a.use(x),new u.a({el:"#app",render:t=>t(r)})}],[[5,2,0]]]);